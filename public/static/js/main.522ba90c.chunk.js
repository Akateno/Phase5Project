(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{26:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(19),i=c.n(s),a=(c(26),c(3)),r=c(4),o=c(0);var j=function(e){var t=e.onLogin,c=e.setShowLogin,s=Object(n.useState)(""),i=Object(a.a)(s,2),j=i[0],l=i[1],d=Object(n.useState)(""),u=Object(a.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)(""),m=Object(a.a)(O,2),x=m[0],f=m[1],v=Object(n.useState)(""),p=Object(a.a)(v,2),g=p[0],k=p[1],S=Object(n.useState)(""),C=Object(a.a)(S,2),y=C[0],N=C[1],w=Object(n.useState)(""),L=Object(a.a)(w,2),B=L[0],I=L[1],D=Object(n.useState)(""),F=Object(a.a)(D,2),A=F[0],T=F[1],P=Object(n.useState)(""),E=Object(a.a)(P,2),_=E[0],U=E[1],J=Object(r.f)();return Object(o.jsxs)("div",{className:"SignupForm",children:[Object(o.jsx)("div",{class:"ui attached message",children:Object(o.jsxs)("div",{class:"content",children:[Object(o.jsx)("div",{class:"header",children:"Welcome to BookShare!"}),Object(o.jsx)("p",{children:"Fill out the form below to sign-up for a new account"})]})}),Object(o.jsxs)("form",{class:"ui form attached fluid segment",onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:j,name:b,email:x,city:g,image:B,state:y,password:A,password_confirmation:_})}).then((function(e){e.ok&&(e.json().then((function(e){return t(e)})),J.push("/home"))}))},children:[Object(o.jsx)("h1",{children:"Sign Up"}),Object(o.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(o.jsx)("input",{type:"text",id:"username",autoComplete:"off",value:j,onChange:function(e){return l(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(o.jsx)("input",{type:"text",id:"name",autoComplete:"off",value:b,onChange:function(e){return h(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"email",children:"e-mail:"}),Object(o.jsx)("input",{type:"text",id:"email",autoComplete:"off",value:x,onChange:function(e){return f(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"email",children:"Image-Link:"}),Object(o.jsx)("input",{type:"text",id:"image",autoComplete:"off",value:B,onChange:function(e){return I(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"city",children:"City:"}),Object(o.jsx)("input",{type:"text",id:"city",autoComplete:"off",value:g,onChange:function(e){return k(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"state",children:"State:"}),Object(o.jsx)("input",{type:"text",id:"state",autoComplete:"off",value:y,onChange:function(e){return N(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{type:"password",id:"password",value:A,onChange:function(e){return T(e.target.value)},autoComplete:"current-password"}),Object(o.jsx)("label",{htmlFor:"password",children:"Password Confirmation"}),Object(o.jsx)("input",{type:"password",id:"password_confirmation",value:_,onChange:function(e){return U(e.target.value)},autoComplete:"current-password"}),Object(o.jsx)("button",{class:"ui blue button",type:"submit",children:"Sign Up"})]}),Object(o.jsxs)("div",{class:"ui warning bottom attached message",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"help icon"}),"Already signed up? ",Object(o.jsx)("button",{class:"ui blue button",onClick:function(){return c(!0)},children:"Login"})," instead."]})]})};var l=function(e){var t=e.onLogin,c=e.setShowLogin,s=Object(n.useState)(""),i=Object(a.a)(s,2),j=i[0],l=i[1],d=Object(n.useState)(""),u=Object(a.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)([]),m=Object(a.a)(O,2),x=m[0],f=m[1],v=Object(r.f)(),p=x.map((function(e){return Object(o.jsxs)("h3",{children:[" ",e]},e)}));return Object(o.jsxs)("div",{className:"loginForm",children:[Object(o.jsx)("div",{class:"ui attached message",children:Object(o.jsxs)("div",{class:"content",children:[Object(o.jsx)("div",{class:"header",children:"Welcome Back!"}),Object(o.jsx)("p",{children:"Sign In to your account"})]})}),Object(o.jsxs)("form",{class:"ui form attached fluid segment",onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:j,password:b})}).then((function(e){e.ok?e.json().then((function(e){t(e),v.push("/home")})):e.json().then((function(e){return f(e.errors)}))}))},children:[Object(o.jsx)("h1",{children:"Login"}),Object(o.jsx)("label",{htmlFor:"username",children:"Username"}),Object(o.jsx)("input",{type:"text",id:"username",autoComplete:"off",value:j,onChange:function(e){return l(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){return h(e.target.value)}}),Object(o.jsx)("button",{class:"ui blue button",type:"submit",children:"Login"}),p]}),Object(o.jsxs)("div",{class:"ui warning bottom attached message",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"help icon"}),"New User? ",Object(o.jsx)("button",{class:"ui blue button",onClick:function(){return c(!1)},children:"Signup"})," instead."]})]})},d=c(12),u=c(11);var b=function(e){var t=e.onLogin,c=Object(n.useState)(!0),s=Object(a.a)(c,2),i=s[0],r=s[1];return Object(o.jsxs)("div",{className:"homeBackground",children:[Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("h1",{class:"ui header",children:Object(o.jsxs)("div",{className:"title",children:[" BookShare ",Object(o.jsx)(d.a,{icon:u.a})," "]})})}),i?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(l,{onLogin:t,setShowLogin:r})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(j,{onLogin:t,setShowLogin:r})}),Object(o.jsx)("div",{className:"recordBack"})]})},h=c(7);var O=function(e){var t=e.user,c=e.setUser;return Object(o.jsx)("div",{className:"navbar",children:Object(o.jsxs)("header",{class:"ui menu",color:"white",children:[Object(o.jsxs)("div",{class:"active item",children:[Object(o.jsx)(h.b,{class:"section",to:"/home",children:"Home"}),Object(o.jsx)("i",{"aria-hidden":"false",class:"right chevron icon divider"})]}),Object(o.jsxs)("div",{class:"item",children:[Object(o.jsx)(h.b,{class:"section",to:"/books",children:"Book List"}),Object(o.jsx)("i",{"aria-hidden":"true",class:"right chevron icon divider"})]}),Object(o.jsxs)("div",{class:"item",children:[Object(o.jsx)(h.b,{class:"section",to:"/recommendations",children:" Recomendations "}),Object(o.jsx)("i",{"aria-hidden":"true",class:"right chevron icon divider"})]}),Object(o.jsx)("div",{className:"right menu",children:t?Object(o.jsx)("div",{class:"item",children:Object(o.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&c(null)}))},children:"Logout"})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(h.b,{to:"/signup",children:"Signup"}),Object(o.jsx)(h.b,{to:"/login",children:"Login"})]})})]})})};var m=function(e){var t=e.id,c=e.title,n=(e.author,e.image),s=(e.user,e.onDeleteBook),i=e.previewLink;return Object(o.jsxs)("div",{className:"listcards",children:[Object(o.jsx)("div",{className:"listcard"}),Object(o.jsxs)("div",{class:"ui card",children:[Object(o.jsx)("div",{class:"image",children:Object(o.jsx)("img",{className:"cardPic",src:n,alt:c})}),Object(o.jsx)("div",{class:"content",children:Object(o.jsxs)("div",{class:"header",children:["Name: ",c]})}),Object(o.jsx)("div",{class:"extra content",children:Object(o.jsxs)("a",{children:[Object(o.jsx)("i",{"aria-hidden":"true"}),Object(o.jsxs)("button",{class:"ui button",children:[" ",Object(o.jsx)("a",{className:"bookLink",target:"_blank",href:i,children:"Read"})]}),Object(o.jsx)("button",{class:" blue ui button",onClick:function(){fetch("/user_books/".concat(t),{method:"DELETE"}),s(t)},children:" Finished Reading "})]})})]})]})};var x=function(e){var t=e.book,c=e.onDeleteBook;return e.selectedBook,e.setId,Object(o.jsx)("div",{className:"listcards",children:t.map((function(e){return Object(o.jsx)(m,{id:e.id,title:e.title,author:e.author,image:e.image,userId:e.user_id,onDeleteBook:c,previewLink:e.previewLink},e.id)}))})};var f=function(e){var t=e.user,c=Object(n.useState)([]),s=Object(a.a)(c,2),i=s[0],r=s[1];return Object(n.useEffect)((function(){fetch("/user_books").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(o.jsxs)("div",{className:"bookcontainer",children:[Object(o.jsxs)("div",{className:"homeHeader",children:[Object(o.jsxs)("div",{class:"ui message",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"close icon"}),Object(o.jsxs)("div",{class:"content",children:[Object(o.jsx)("div",{class:"header",children:"Welcome back!"}),Object(o.jsx)("p",{children:"This is a special notification which you can dismiss."})]})]}),Object(o.jsxs)("h2",{class:"ui header",children:[Object(o.jsx)("img",{src:t.image,class:"ui circular image"}),t.name," "]}),Object(o.jsxs)("div",{role:"list",class:"ui list",children:[Object(o.jsxs)("div",{role:"listitem",class:"item",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"users icon"}),Object(o.jsx)("div",{class:"content",children:Object(o.jsx)("a",{target:"_blank",href:"www.linkedin.com/in/erickkvargas",children:"LinkedIn"})})]}),Object(o.jsxs)("div",{role:"listitem",class:"item",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"marker icon"}),Object(o.jsxs)("div",{class:"content",children:[t.city,", ",t.state]})]}),Object(o.jsxs)("div",{role:"listitem",class:"item",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"mail icon"}),Object(o.jsx)("div",{class:"content",children:Object(o.jsx)("a",{href:t.email,children:t.email})})]}),Object(o.jsxs)("div",{role:"listitem",class:"item",children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"linkify icon"}),Object(o.jsx)("div",{class:"content",children:Object(o.jsx)("a",{target:"_blank",href:"https://github.com/Akateno",children:"GitHub"})})]})]})]}),Object(o.jsxs)("h1",{className:"userMessage",children:["Welcome, ",t.username,"!"]}),Object(o.jsx)(x,{onDeleteBook:function(e){var t=i.filter((function(t){return t.id!==e}));r(t)},book:i})]})};var v=function(e){var t=e.id,c=e.title,s=e.author,i=e.image,j=(e.userID,e.setId),l=(e.selectedBook,e.description),d=e.previewLink,u=Object(n.useState)([]),b=Object(a.a)(u,2),h=(b[0],b[1]),O=Object(n.useState)(!1),m=Object(a.a)(O,2),x=m[0],f=m[1];return Object(r.f)(),Object(o.jsxs)("div",{className:"listcards",children:[Object(o.jsx)("div",{className:"listcard",onClick:function(){return j(t)}}),Object(o.jsxs)("div",{class:"ui card",children:[Object(o.jsx)("div",{class:"image",children:Object(o.jsx)("img",{className:"cardPic",src:i,alt:c})}),Object(o.jsxs)("div",{class:"content",children:[Object(o.jsxs)("div",{class:"header",children:["Name: ",c]}),Object(o.jsxs)("div",{class:"meta",children:["Author: ",s]})]}),Object(o.jsxs)("div",{class:"extra content",children:[" ",Object(o.jsxs)("a",{onClick:function(){f(!x)},children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"blue info icon"}),"Description"]})]}),x?Object(o.jsx)("div",{className:"description",children:l}):[],Object(o.jsx)("div",{class:"extra content",children:Object(o.jsxs)("a",{children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"user icon"})," ",Object(o.jsx)("button",{className:"addButton",onClick:function(){fetch("/recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,author:s,image:i})}).then((function(e){e.ok||e.json().then((function(e){return h(e.errors)}))}))},children:" Recommend "}),Object(o.jsx)("button",{className:"addButton",onClick:function(){fetch("/user_books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,author:s,image:i,previewLink:d})}).then((function(e){e.ok||e.json().then((function(e){return h(e.errors)}))}))},children:" Add to Library"})]})})]})]})};var p=function(e){var t=e.book,c=e.selectedBook,n=e.setId;return Object(o.jsx)("div",{className:"listcards",children:t.map((function(e){return Object(o.jsx)(v,{id:e.id,title:e.volumeInfo.title,author:e.volumeInfo.authors,description:e.volumeInfo.description,previewLink:e.volumeInfo.previewLink,image:void 0===e.volumeInfo.imageLinks?"":e.volumeInfo.imageLinks.thumbnail,userID:e.user_id,setId:n,selectedBook:c},e.id)}))})};c(36).config();var g=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(null),r=Object(a.a)(i,2),j=r[0],l=r[1],d=Object(n.useState)(""),u=Object(a.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)("AIzaSyCDQ6PZP4s8LLDfDNk950q63jkANyGvH4c"),m=Object(a.a)(O,2),x=m[0],f=(m[1],c.find((function(e){return e.id===j})));return Object(o.jsxs)("div",{className:"bookcontainer",children:[Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(b,"&key=").concat(x,"&maxResults=40")).then((function(e){return e.json()})).then((function(e){return s(e.items)}))},className:"search",children:[Object(o.jsx)("div",{class:"ui fluid icon input",children:Object(o.jsx)("input",{onChange:function(e){var t=e.target.value;h(t)},type:"text",name:"comment",placeholder:"searchbooks.."})}),Object(o.jsx)("button",{className:"ui button",type:"submit",children:"search"})]}),Object(o.jsx)("h1",{className:"bookListHeader",children:" Browse book selection"}),Object(o.jsx)("div",{className:"booklistHeader",children:Object(o.jsx)("div",{children:Object(o.jsx)("h1",{className:"bookheader",children:"Search Any Subject!"})})}),Object(o.jsx)(p,{book:c,selectedBook:f,setId:l})]})},k=c(17),S=c(8);var C=function(e){var t=e.id,c=e.onAddComment,s=Object(n.useState)(""),i=Object(a.a)(s,2),r=i[0],j=i[1],l=Object(n.useState)([]),d=Object(a.a)(l,2),u=d[0],b=d[1];console.log(t);var h=u.map((function(e){return Object(o.jsxs)("p",{children:[" ",e]},e)}));return Object(o.jsxs)("form",{className:"addComment",onSubmit:function(e){e.preventDefault(),fetch("/recommendations/".concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r,recommendation_id:t})}).then((function(e){e.ok?e.json().then((function(e){c(e)})):e.json().then((function(e){return b(e.errors)}))}))},children:[Object(o.jsx)("div",{class:"ui fluid icon input",children:Object(o.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)},value:r,name:"comment",placeholder:"comment.."})}),h,Object(o.jsx)("button",{className:"ui button",type:"submit",children:"Add"})]})};var y=function(e){var t=e.book,c=e.onAddComment,s=(e.user,Object(n.useState)(t)),i=Object(a.a)(s,2),r=i[0],j=(i[1],Object(n.useState)(!1)),l=Object(a.a)(j,2),d=l[0],u=l[1];console.log(t);var b=t.comments.map((function(e){return Object(o.jsxs)("div",{className:"reviewsContainer",children:[Object(o.jsxs)("div",{class:"text",children:[" ",e.content]}),Object(o.jsx)("div",{class:"actions"})]},e.id)}));return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return u((function(e){return!e}))},children:"+"}),b]}),d?Object(o.jsx)(C,{id:r.id,onAddComment:c}):Object(o.jsx)("p",{})]})};var N=function(e){var t=e.likeId,c=e.id,s=e.title,i=(e.author,e.image),r=e.user,j=e.onAddComment,l=e.selectedBook,d=e.setId,u=e.addLike,b=e.removeLike,h=Object(n.useState)(!1),O=Object(a.a)(h,2),m=O[0],x=O[1];return Object(o.jsx)("div",{className:"cards",children:Object(o.jsx)("div",{className:"card",onClick:function(){return d(c)},children:Object(o.jsxs)("div",{class:"ui card",children:[Object(o.jsx)("div",{class:"image",children:Object(o.jsx)("img",{className:"cardPic",src:i,alt:s})}),Object(o.jsxs)("div",{class:"content",children:[Object(o.jsxs)("div",{class:"header",children:["Name: ",s]}),Object(o.jsxs)("div",{children:["Reccomended by : ",r.username," ",t?Object(o.jsxs)("button",{id:t,class:"ui red icon button",onClick:function(){fetch("/likes/".concat(t.id),{method:"DELETE"}),b(c,t.id)},children:[" ",Object(o.jsx)("i",{"aria-hidden":"true",class:"heart icon"})," "]}):Object(o.jsxs)("button",{class:"ui icon button",onClick:function(){fetch("/likes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recommendation_id:c})}).then((function(e){return e.json()})).then((function(e){return u(c,e)}))},id:t,children:[" ",Object(o.jsx)("i",{"aria-hidden":"true",class:"heart icon"})," "]}),"  "]})]}),Object(o.jsxs)("div",{class:"extra content",children:[" ",Object(o.jsxs)("a",{onClick:function(){x(!m)},children:[Object(o.jsx)("i",{"aria-hidden":"true",class:"comment icon"}),"Comments "]})]}),m?Object(o.jsx)(y,{onAddComment:j,book:l,currentuser:r}):[]]})})})};var w=function(e){var t=e.book,c=e.selectedBook,n=e.setId,s=e.onAddComment,i=e.user,a=e.addLike,r=e.removeLike;return Object(o.jsx)("div",{className:"cards",children:t.map((function(e){return Object(o.jsx)(N,{id:e.id,title:e.title,author:e.author,image:e.image,setId:n,selectedBook:c,likeId:e.likes.find((function(e){return e.user_id===i.id})),removeLike:r,addLike:a,book:t,onAddComment:s,user:e.user},e.id)}))})};var L=function(e){var t=e.user,c=Object(n.useState)([]),s=Object(a.a)(c,2),i=s[0],r=s[1],j=Object(n.useState)(null),l=Object(a.a)(j,2),d=l[0],u=l[1];Object(n.useEffect)((function(){fetch("/recommendations").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);var b=i.find((function(e){return e.id===d}));return Object(o.jsxs)("div",{className:"bookcontainer",children:[Object(o.jsx)("div",{className:"recHeader",children:Object(o.jsx)("div",{children:Object(o.jsx)("h1",{className:"bookheader",children:"Community Recommended Books"})})}),Object(o.jsx)("h4",{className:"recMessage",children:"Browse Books recommended by your community"}),Object(o.jsx)(w,{onAddComment:function(e){r(i.map((function(t){return t.id!==d?t:Object(S.a)(Object(S.a)({},t),{},{comments:[].concat(Object(k.a)(t.comments),[e])})})))},book:i,setId:u,user:t,selectedBook:b,removeLike:function(e,t){r(i.map((function(c){return c.id===e?Object(S.a)(Object(S.a)({},c),{},{likes:c.likes.filter((function(e){return e.id!==t}))}):c})))},addLike:function(e,t){r(i.map((function(c){return c.id===e?Object(S.a)(Object(S.a)({},c),{},{likes:[].concat(Object(k.a)(c.likes),[t])}):c})))}})]})};var B=function(){var e=Object(n.useState)(null),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return s(e)}))}))}),[]),c?Object(o.jsxs)("div",{children:[Object(o.jsx)(O,{user:c,setUser:s}),Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)(d.a,{icon:u.a})}),Object(o.jsx)("div",{children:c?Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/home",children:Object(o.jsx)(f,{user:c})}),Object(o.jsx)(r.a,{path:"/books",children:Object(o.jsx)(g,{})}),Object(o.jsx)(r.a,{path:"/recommendations",children:Object(o.jsx)(L,{user:c})})]}):Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/signup",children:Object(o.jsx)(j,{setUser:s})}),Object(o.jsx)(r.a,{path:"/login",children:Object(o.jsx)(b,{setUser:s})})]})})]}):Object(o.jsx)(b,{onLogin:s})};c(40);i.a.render(Object(o.jsx)(h.a,{children:Object(o.jsx)(B,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.522ba90c.chunk.js.map